do -- nametags	local font_name = "FishingNameTags"	local font_scale = 0.1	surface.CreateFont(		font_name,		{			font 		= "Tahoma",			size 		= 500,			weight 		= 800,			antialias 	= true,			additive 	= true,		}	)	local font_name_blur = font_name .. "_blur"	surface.CreateFont(		font_name_blur,		{			font 		= "Tahoma",			size 		= 500,			weight 		= 800,			antialias 	= true,			additive 	= false,			blursize 	= 10,		}	)	local function draw_text(text, color, x, y)		surface.SetFont(font_name_blur)		surface.SetTextColor(color_black)		for i=1, 5 do			surface.SetTextPos(x,y)			surface.DrawText(text)		end		surface.SetFont(font_name)		surface.SetTextColor(color)		surface.SetTextPos(x,y)		surface.DrawText(text)	end	local ang = Angle(0,0,90)	function fishing.DrawNameTags()		local eyeang = EyeAngles()		ang.y = eyeang.y - 90		surface.SetFont(font_name)		local time = RealTime()		for key, ply in pairs(player.GetAll()) do			if not fishing.IsFishing(ply) then continue end			local wep = ply:GetActiveWeapon()			if not wep.dt or not wep.dt.hook:IsValid() then continue end -- grr			if wep.dt.length > 30 then				local pos = wep.dt.hook:GetPos()				pos = pos + Vector(0, 0, 15)				local text = ply:Name()				local w, h = surface.GetTextSize(text)				local size = 2 * font_scale				cam.Start3D2D(pos, ang, size)					draw_text(text, color_white, -(w/2), 0)				cam.End3D2D()			end		end	end	hook.Add("PostDrawTranslucentRenderables", "fishing_nametags", function()		if not fishing.IsFishing() then return end		--fishing.DrawNameTags()	end)enddo -- fish!!	local mat_odd = fishing.GetMaterialFromURL("http://dl.dropbox.com/u/10826341/fisho.png")	local mat_even = fishing.GetMaterialFromURL("http://dl.dropbox.com/u/10826341/fishe.png")	local SIZE = 512	local SIZE2 = SIZE/2	function fishing.SegaBassFishing()		local t = 0		local x, y = ScrW() / 2, ScrH() / 2		hook.Add("HUDPaint", "fishing_fish!!", function()			t = t + FrameTime() * 50			local alpha = 255			local x_offset = math.max(-t^2.7 + 800, 0)			x_offset = x_offset + math.sin(t)*math.max(-t+40, 0)			if t > 70 then				x_offset = (-t + 70) ^ 2				alpha = (-x_offset+300)^1.1			end			surface.SetMaterial(mat_odd)			mat_odd:SetFloat("$alpha", math.min(alpha/300, 0.99))			surface.SetDrawColor(255, 255, 255, alpha)			for i = 1, 3 do surface.DrawTexturedRect(x-x_offset-SIZE2, y-SIZE2, SIZE, SIZE) end			surface.SetMaterial(mat_even)			mat_even:SetFloat("$alpha", math.min(alpha/300, 0.99))			surface.SetDrawColor(255, 255, 255, alpha)			for i = 1, 3 do surface.DrawTexturedRect(x+x_offset-SIZE2, y-SIZE2, SIZE, SIZE) end			if t > 100 then				hook.Remove("HUDPaint", "fishing_fish!!")			end		end)	endend